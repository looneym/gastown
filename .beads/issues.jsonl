{"id":"gt-012","title":"Fix .gitignore to allow beads sync despite global gitignore","description":"dispatched_by: mayor\n\n## Problem\n\nbd sync fails when trying to commit to beads-sync branch because El Presidente has `.beads/` in global gitignore.\n\n## Solution\n\n**Update gastown's .gitignore to override global gitignore using negation patterns:**\n\nCurrent .gitignore has:\n```gitignore\n.beads/redirect\n.beads/issues.jsonl\n.beads/interactions.jsonl\n.beads/metadata.json\n.beads/mq/\n.beads/last-touched\n.beads/daemon-*.log.gz\n.beads-wisp/\n```\n\nReplace with:\n```gitignore\n# Un-ignore beads sync files (overrides global gitignore)\n!.beads/\n!.beads/issues.jsonl\n!.beads/interactions.jsonl\n!.beads/formulas/\n\n# But keep ignoring runtime state\n.beads/*.db\n.beads/redirect\n.beads/metadata.json\n.beads/mq/\n.beads/last-touched\n.beads/daemon-*.log.gz\n.beads-wisp/\n```\n\n## Why This Works\n\nGit's negation patterns in local .gitignore CAN override global gitignore:\n- Global gitignore blocks `.beads/` everywhere (stealth mode for other repos)\n- Local gitignore explicitly un-ignores with `!.beads/` (allows gastown to track beads)\n- This preserves stealth mode in other repos while enabling beads sync in gastown\n\n## Files to Modify\n\n`.gitignore` - Replace the .beads/ ignore section (around lines 38-45)\n\n## Test\n\nAfter fix:\n```bash\nbd sync\n# Should successfully commit to beads-sync branch\n```\n\n## Related\n\nTown-level tracking: hq-9gp4\nPart of grease epic hq-h4yz","status":"closed","priority":1,"issue_type":"bug","assignee":"gastown/polecats/nux","created_at":"2026-01-09T07:50:58.228198Z","created_by":"mayor","updated_at":"2026-01-09T07:57:27.153394Z","closed_at":"2026-01-09T07:57:27.153394Z","close_reason":"Fix verified - gitignore negation patterns successfully override global gitignore","comments":[{"id":1,"issue_id":"gt-012","author":"gastown/polecats/nux","text":"## Fix Verified\n\nSuccessfully updated .gitignore with negation patterns to override global gitignore:\n\n**Changes applied:**\n- Added `!.beads/` to explicitly un-ignore the directory\n- Added negation patterns for sync files (issues.jsonl, interactions.jsonl, formulas/)\n- Kept ignoring runtime state files (.db, redirect, metadata.json, etc.)\n\n**Testing:**\n- `git add .beads/issues.jsonl` now succeeds (previously failed due to global gitignore)\n- `bd sync` successfully commits to beads-sync branch\n- Only fails at push step due to permission issue (no write access to steveyegge/gastown.git)\n\n**Applied to branches:**\n- main: commit 7f0b101\n- polecat/nux-mk6kue57: commit 2ca301a9\n- beads-sync: commit 11b906b (cherry-picked)\n\n**Remaining issue:**\nPush permission denied for steveyegge/gastown.git - separate from gitignore fix.","created_at":"2026-01-09T07:57:10Z"}]}
{"id":"gt-02j","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:30:20.159198Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:30:20.298279Z","closed_at":"2026-01-09T08:30:20.298279Z","close_reason":"auto-closed session event"}
{"id":"gt-0sl","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T07:59:03.668476Z","created_by":"gastown/witness","updated_at":"2026-01-09T07:59:03.742908Z","closed_at":"2026-01-09T07:59:03.742908Z","close_reason":"auto-closed session event"}
{"id":"gt-1om","title":"Create mol-mayor-startup formula for structured session onboarding","description":"dispatched_by: mayor\n\n## Problem\n\nWhen Mayor starts a new session, there's no structured discovery process. The Mayor must rely on human instructions to understand:\n- Current grease work status (hq-rib, hq-h4yz)\n- In-flight beads and convoys\n- Unread mail (escalations, handoffs)\n- Active rig health\n\nOther roles (Witness, Refinery, Deacon, Polecat) have startup molecules that define their work loop. Mayor doesn't.\n\n## Solution\n\nCreate mol-mayor-startup formula with steps:\n\n1. check-hook - Check for hooked work (GUPP)\n2. check-mail - Review unread messages\n3. grease-status - Review grease epic status (bd show hq-rib)\n4. convoy-status - Check active convoys (gt convoy list)\n5. rig-status - Check rig health (gt status)\n6. report-status - Present dashboard to El Presidente\n7. await-orders - Wait for user direction (human-managed)\n\nThis gives every Mayor session:\n- ‚úÖ Structured startup checklist\n- ‚úÖ Automatic discovery of grease work\n- ‚úÖ Context continuity across sessions\n- ‚úÖ Dashboard view before awaiting orders\n\n## Files to Create\n\nCreate .beads/formulas/mol-mayor-startup.formula.toml in the gastown repo.\n\nReference mol-witness-patrol.formula.toml and mol-refinery-patrol.formula.toml for structure.\n\n## Notes\n\nMayor is human-managed (not autonomous like Witness/Refinery), so the molecule ends with await-orders, not a loop.\n\n## Related\n\nPart of grease epic hq-h4yz (Gas Town infrastructure setup).\nTown-level tracking: hq-7lkb","status":"closed","priority":1,"issue_type":"task","assignee":"gastown/polecats/furiosa","created_at":"2026-01-09T07:05:32.671549Z","created_by":"mayor","updated_at":"2026-01-09T07:07:51.773504Z","closed_at":"2026-01-09T07:07:51.773504Z","close_reason":"Created mol-mayor-startup formula with 7-step startup protocol"}
{"id":"gt-1sx","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-09T05:35:12.564188Z","created_by":"mayor","updated_at":"2026-01-09T05:35:12.564188Z"}
{"id":"gt-288w","title":"Merge: nux-mk6sb3rf","description":"branch: polecat/nux-mk6sb3rf\ntarget: main\nsource_issue: nux-mk6sb3rf\nrig: gastown\nagent_bead: gt-gastown-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T11:58:28.4793Z","created_by":"gastown/polecats/nux","updated_at":"2026-01-09T12:01:04.270079Z","closed_at":"2026-01-09T12:01:04.270079Z","close_reason":"Closed"}
{"id":"gt-2fw","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T09:44:33.616462Z","created_by":"gastown/witness","updated_at":"2026-01-09T09:44:33.700572Z","closed_at":"2026-01-09T09:44:33.700572Z","close_reason":"auto-closed session event"}
{"id":"gt-2km","title":"Merge: furiosa-mk6kjd5d","description":"branch: polecat/furiosa-mk6kjd5d\ntarget: main\nsource_issue: furiosa-mk6kjd5d\nrig: gastown\nagent_bead: gt-gastown-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T07:54:31.090977Z","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-09T07:57:27.830144Z","closed_at":"2026-01-09T07:57:27.830144Z","close_reason":"Merged to main by refinery"}
{"id":"gt-2mm","title":"Test molecule pouring in gt sling","description":"Test bead to verify mol-polecat-work molecule gets poured and hooked when using gt sling","notes":"Added TestPolecatWorkMoleculePouringInSling test that verifies:\n- mol-polecat-work formula is cooked when slinging to a rig\n- molecule wisp is created with issue variable set to work bead\n- molecule ID is returned correctly for hooking\n\nTest passes successfully, verifying the molecule pouring integration works as expected.","status":"closed","priority":2,"issue_type":"task","assignee":"gastown/polecats/slit","created_at":"2026-01-09T08:15:27.208477Z","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-09T11:26:10.125307Z","closed_at":"2026-01-09T11:26:10.125307Z","close_reason":"Test results - mol-polecat-work molecule pouring:\n\n‚úì PASSED: Molecule was poured (9 child beads created: gt-wisp-xeb through gt-wisp-txs)\n‚úì PASSED: Molecule was hooked (status=hooked, assignee=gastown/polecats/slit)\n‚úó FAILED: {{issue}} variable not substituted - steps still reference example \"hq-i4wr\"\n‚úó FAILED: Molecule not \"attached\" (gt mol current shows \"naked - awaiting work assignment\")\n\nRoot cause: The molecule (gt-wisp-sb8) was directly slung without a work bead.\nThe correct flow should be: gt sling \u003cwork-bead\u003e \u003crig\u003e, which:\n1. Spawns polecat\n2. Calls pourPolecatWorkMolecule(workBeadID, ...) with issue=\u003cwork-bead\u003e\n3. Hooks the resulting molecule\n\nWhat happened: gt-wisp-sb8 itself was slung, bypassing the pouring step.\n\nSee: sling.go:1671-1704 (pourPolecatWorkMolecule function)"}
{"id":"gt-362","title":"Digest: mol-refinery-patrol","description":"Patrol aborted: polecat/nux-mk6q2gu7 has rebase conflicts (loader.go, orphan_check.go). Notified polecat to resolve manually.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T10:30:08.205021Z","updated_at":"2026-01-09T10:30:08.205021Z","closed_at":"2026-01-09T10:30:08.204933Z","close_reason":"Squashed from 11 wisps"}
{"id":"gt-3na","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T06:05:44.229426Z","created_by":"gastown/witness","updated_at":"2026-01-09T06:05:44.363622Z","closed_at":"2026-01-09T06:05:44.363622Z","close_reason":"auto-closed session event"}
{"id":"gt-3qp","title":"Merge: furiosa-mk6gelvz","description":"branch: polecat/furiosa-mk6gelvz\ntarget: main\nsource_issue: furiosa-mk6gelvz\nrig: gastown\nagent_bead: gt-gastown-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T06:02:04.889013Z","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-09T06:08:04.749821Z","closed_at":"2026-01-09T06:08:04.749821Z","close_reason":"Merged to main by refinery"}
{"id":"gt-3x9","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-09T05:35:12.155527Z","created_by":"mayor","updated_at":"2026-01-09T05:35:12.155527Z"}
{"id":"gt-49k","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T09:33:43.646623Z","created_by":"gastown/witness","updated_at":"2026-01-09T09:33:43.733764Z","closed_at":"2026-01-09T09:33:43.733764Z","close_reason":"auto-closed session event"}
{"id":"gt-5jr","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:55:10.301812Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:55:10.401926Z","closed_at":"2026-01-09T08:55:10.401926Z","close_reason":"auto-closed session event"}
{"id":"gt-5kc","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:34:12.839392Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:34:12.92221Z","closed_at":"2026-01-09T08:34:12.92221Z","close_reason":"auto-closed session event"}
{"id":"gt-5z4","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:19:53.533916Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:19:53.61186Z","closed_at":"2026-01-09T08:19:53.61186Z","close_reason":"auto-closed session event"}
{"id":"gt-692","title":"Merge: dag-mk6tkkex","description":"branch: polecat/dag-mk6tkkex\ntarget: main\nsource_issue: dag-mk6tkkex\nrig: gastown\nagent_bead: gt-gastown-polecat-dag\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T12:09:36.284165Z","created_by":"gastown/polecats/dag","updated_at":"2026-01-09T12:11:58.882069Z","closed_at":"2026-01-09T12:11:58.882069Z","close_reason":"Closed"}
{"id":"gt-6qx","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T07:23:29.703647Z","created_by":"gastown/witness","updated_at":"2026-01-09T07:23:29.781188Z","closed_at":"2026-01-09T07:23:29.781188Z","close_reason":"auto-closed session event"}
{"id":"gt-6yl","title":"Digest: mol-refinery-patrol","description":"Patrol complete: merged polecat/slit-mk6n2hxw (graceful degradation for gt feed, 2 files +43/-12), tests pass, witness notified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:02:57.194662Z","updated_at":"2026-01-09T09:02:57.194662Z","closed_at":"2026-01-09T09:02:57.194594Z","close_reason":"Squashed from 11 wisps"}
{"id":"gt-7rp","title":"Merge: furiosa-mk6m0b5f","description":"branch: polecat/furiosa-mk6m0b5f\ntarget: main\nsource_issue: furiosa-mk6m0b5f\nrig: gastown\nagent_bead: gt-gastown-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T08:29:54.800912Z","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-09T08:32:32.022544Z","closed_at":"2026-01-09T08:32:32.022544Z","close_reason":"Merged to main by refinery"}
{"id":"gt-82m","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T10:18:30.888737Z","created_by":"gastown/witness","updated_at":"2026-01-09T10:18:30.9776Z","closed_at":"2026-01-09T10:18:30.9776Z","close_reason":"auto-closed session event"}
{"id":"gt-8ep","title":"Fix gt feed --plain hanging (exits cleanly after showing events)","description":"dispatched_by: mayor\n\n## Problem\n\nVERIFIED BUG: `gt feed --plain --since 5m` hangs indefinitely instead of exiting.\n\nTest to reproduce:\n```bash\n( gt feed --plain --since 5m \u0026 PID=$\\! ; sleep 5 ; kill -0 $PID 2\u003e/dev/null \u0026\u0026 echo 'STILL HANGING' || echo 'COMPLETED OK' )\n```\n\nExpected: Should show events and exit immediately in plain mode\nActual: Shows events but hangs forever (--follow mode behavior)\n\n## Root Cause\n\nIn internal/cmd/feed.go, buildFeedArgs() defaults to --follow mode even in plain mode.\nPlain mode should be one-shot: show events and exit.\n\n## Fix Required\n\n**File**: internal/cmd/feed.go\n\nIn buildFeedArgs() function (around line 148-178):\n- Plain mode should NOT add --follow flag\n- Only add --follow if explicitly requested AND not in plain mode\n\nChange logic to:\n```go\n// Don't follow in plain mode - plain mode is one-shot\nshouldFollow := \\!feedNoFollow \u0026\u0026 \\!feedPlain\n```\n\n## Verification (MUST PASS)\n\nAfter implementation, run this test:\n```bash\n# Test 1: Plain mode exits cleanly (CRITICAL)\ntimeout 10 gt feed --plain --since 5m\necho \"Exit code: $?\"  # Should be 0, not 124 (timeout)\n\n# Test 2: Normal TUI mode still works\n# (manual check - should show interactive TUI)\n```\n\nTest MUST pass before closing this bead. If test fails, fix is incomplete.\n\n## Related\n- Town bead: hq-u50v\n- Previous false completion: gt-9h2 (closed but never actually fixed)","status":"closed","priority":1,"issue_type":"task","assignee":"gastown/polecats/furiosa","created_at":"2026-01-09T09:43:38.380913Z","created_by":"mayor","updated_at":"2026-01-09T09:49:20.556037Z","closed_at":"2026-01-09T09:49:20.556037Z","close_reason":"Closed","comments":[{"id":3,"issue_id":"gt-8ep","author":"gastown/polecats/furiosa","text":"Fix was already applied in commit a71220c0 (feat: implement graceful degradation for event sources).\n\nThe issue was that the gt binary at /Users/looneym/go/bin/gt was outdated (last modified 05:46, before the 08:58 commit). Rebuilt the binary with `go install ./cmd/gt` and verified all tests pass:\n\n‚úÖ Plain mode exits cleanly: `gt feed --plain --since 5m` completes without hanging\n‚úÖ TUI mode unchanged: Still correctly uses --follow for real-time streaming  \n‚úÖ Window mode unchanged: Still correctly uses --follow\n\nThe fix works by passing defaultFollow parameter to buildFeedArgs():\n- Plain mode calls buildFeedArgs(false) ‚Üí no --follow flag\n- Window/TUI modes get --follow for streaming behavior","created_at":"2026-01-09T09:49:10Z"}]}
{"id":"gt-8ff","title":"gt sling should pour and hook mol-polecat-work molecule","description":"dispatched_by: mayor\n\n## Problem\n\nPolecats spawned with `gt sling` don't follow the structured workflow molecule. They improvise and try to push directly instead of using `gt done`.\n\n## Solution\n\nModify `gt sling` to pour and hook mol-polecat-work molecule when spawning polecats.\n\n### Implementation\n\nIn `internal/cmd/sling.go`:\n\n```go\nfunc slingSingle(beadID, rigName string) error {\n    // 1. Spawn polecat (existing)\n    polecatName := allocatePolecat(rigName)\n    spawnPolecat(rigName, polecatName)\n    \n    // 2. Pour polecat work molecule (NEW)\n    moleculeID := pourMolecule(\"mol-polecat-work\", polecatName, map[string]string{\n        \"issue\": beadID,  // Pass work bead as variable\n    })\n    \n    // 3. Hook molecule instead of work bead directly (CHANGE)\n    hookBead(polecatName, moleculeID)\n    \n    // 4. Nudge to start (existing)\n    nudgePolecat(polecatName)\n}\n```\n\n### What This Fixes\n\n**Before:**\n- Polecat gets work bead hooked\n- No structured workflow\n- Improvises: implement ‚Üí commit ‚Üí push (WRONG)\n\n**After:**\n- Polecat gets molecule hooked\n- 7-step workflow with explicit instructions\n- Step 7 says: Run `gt done`\n- No improvisation possible\n\n### Files to Modify\n\n1. `internal/cmd/sling.go` - Modify slingSingle function\n2. Check if molecule pour helpers exist, create if needed\n3. Test with actual polecat spawn\n\n### Testing\n\nAfter implementation:\n```bash\ngt sling \u003ctest-bead\u003e gastown\n\n# In polecat session:\ngt hook\n# Should show: molecule ID (not work bead ID)\n\nbd ready\n# Should show: Step 1: load-context with instructions\n```\n\n## Related\n\nTown-level tracking: hq-3buo\nPart of grease epic hq-h4yz","status":"closed","priority":2,"issue_type":"task","assignee":"gastown/polecats/furiosa","created_at":"2026-01-09T08:09:18.073863Z","created_by":"mayor","updated_at":"2026-01-09T08:36:07.780314Z","closed_at":"2026-01-09T08:36:07.780321Z"}
{"id":"gt-8l1","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T07:55:10.038586Z","created_by":"gastown/witness","updated_at":"2026-01-09T07:55:10.119802Z","closed_at":"2026-01-09T07:55:10.119802Z","close_reason":"auto-closed session event"}
{"id":"gt-8ny","title":"Merge: furiosa-mk6gelvz","description":"branch: polecat/furiosa-mk6gelvz\ntarget: main\nsource_issue: furiosa-mk6gelvz\nrig: gastown\nagent_bead: hq-mayor\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T06:00:54.514348Z","created_by":"mayor","updated_at":"2026-01-09T06:08:04.747073Z","closed_at":"2026-01-09T06:08:04.747073Z","close_reason":"Merged to main by refinery"}
{"id":"gt-8pz","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T05:47:29.910974Z","created_by":"gastown/witness","updated_at":"2026-01-09T05:47:30.006341Z","closed_at":"2026-01-09T05:47:30.006341Z","close_reason":"auto-closed session event"}
{"id":"gt-99u","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T10:50:35.046294Z","created_by":"gastown/witness","updated_at":"2026-01-09T10:50:35.144539Z","closed_at":"2026-01-09T10:50:35.144539Z","close_reason":"auto-closed session event"}
{"id":"gt-9c8","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:35:41.615948Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:35:41.704755Z","closed_at":"2026-01-09T08:35:41.704755Z","close_reason":"auto-closed session event"}
{"id":"gt-9eq","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:58:36.614529Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:58:36.71036Z","closed_at":"2026-01-09T08:58:36.71036Z","close_reason":"auto-closed session event"}
{"id":"gt-9f6","title":"Merge: furiosa-mk6j82m9","description":"branch: polecat/furiosa-mk6j82m9\ntarget: main\nsource_issue: furiosa-mk6j82m9\nrig: gastown\nagent_bead: gt-gastown-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T07:20:07.996064Z","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-09T07:23:01.116641Z","closed_at":"2026-01-09T07:23:01.116641Z","close_reason":"Merged to main by refinery"}
{"id":"gt-9h2","title":"Implement graceful degradation for gt feed event sources","description":"dispatched_by: mayor\n\nImplementation for town bead hq-u50v: Make gt feed sources optional with graceful degradation.\n\n## Solution Summary\n\nMake event sources fail gracefully - if one source blocks or fails, continue with others.\n\n## Implementation Steps\n\n### 1. Add Start() error handling to BdActivitySource\n\n**File**: internal/tui/feed/events.go\n\nAdd timeout check - if no output in 5s, assume hung and kill subprocess.\nReturn error from Start() if subprocess fails to launch.\n\n### 2. Make source addition conditional\n\n**File**: internal/cmd/feed.go (runFeed function)\n\nTry each source, log warning if fails, only add to sources array if succeeds.\nError out only if NO sources available.\n\n### 3. Fix plain mode\n\n**File**: internal/cmd/feed.go (plain mode path)\n\nRemove --follow flag from bd activity call in plain mode.\nLet it exit after showing events (one-shot query).\n\n## Benefits\n\n- Feed never hangs - continues with available sources\n- Plain mode works for Boot triage (exits cleanly)\n- Clear error messages when sources fail\n- TUI shows what's available even if bd broken\n\n## Testing\n\nTest plain mode exits cleanly, TUI mode handles bd unavailable, normal operation works.\n\nSee town bead hq-u50v for complete implementation details.","status":"closed","priority":1,"issue_type":"task","assignee":"gastown/polecats/nux","created_at":"2026-01-09T08:53:16.104759Z","created_by":"mayor","updated_at":"2026-01-09T09:31:29.370421Z","closed_at":"2026-01-09T09:31:29.370421Z","close_reason":"Implementation complete and verified. All graceful degradation features working: timeout on bd source, conditional source addition, plain mode exits cleanly. Work already merged to main branch.","comments":[{"id":2,"issue_id":"gt-9h2","author":"mayor","text":"Work was marked done but never actually merged to main. Feed still hangs.","created_at":"2026-01-09T09:25:07Z"}]}
{"id":"gt-9jhh","title":"Merge: valkyrie-mk6tlquu","description":"branch: polecat/valkyrie-mk6tlquu\ntarget: main\nsource_issue: valkyrie-mk6tlquu\nrig: gastown\nagent_bead: gt-gastown-polecat-valkyrie\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T12:03:20.688635Z","created_by":"gastown/polecats/valkyrie","updated_at":"2026-01-09T12:04:48.340973Z","closed_at":"2026-01-09T12:04:48.340973Z","close_reason":"Closed"}
{"id":"gt-9t2","title":"Merge: rictus-mk6tjkfe","description":"branch: polecat/rictus-mk6tjkfe\ntarget: main\nsource_issue: rictus-mk6tjkfe\nrig: gastown\nagent_bead: gt-gastown-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T12:11:54.873782Z","created_by":"gastown/polecats/rictus","updated_at":"2026-01-09T12:15:21.036633Z","closed_at":"2026-01-09T12:15:21.036633Z","close_reason":"Merged to main at 0d178759 (resolved conflict, P0 safety fix)"}
{"id":"gt-bg5","title":"Digest: mol-refinery-patrol","description":"Patrol complete: merged polecat/nux-mk6kue57 (.gitignore fix for beads sync, 1 file +8/-2), tests pass, witness notified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:01:05.783806Z","updated_at":"2026-01-09T08:01:05.783806Z","closed_at":"2026-01-09T08:01:05.783737Z","close_reason":"Squashed from 11 wisps"}
{"id":"gt-cy9","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T09:00:39.076336Z","created_by":"gastown/witness","updated_at":"2026-01-09T09:00:39.170543Z","closed_at":"2026-01-09T09:00:39.170543Z","close_reason":"auto-closed session event"}
{"id":"gt-cz4","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T07:58:06.753028Z","created_by":"gastown/witness","updated_at":"2026-01-09T07:58:06.846787Z","closed_at":"2026-01-09T07:58:06.846787Z","close_reason":"auto-closed session event"}
{"id":"gt-dk7","title":"Merge: toast-mk6tk1n6","description":"branch: polecat/toast-mk6tk1n6\ntarget: main\nsource_issue: toast-mk6tk1n6\nrig: gastown\nagent_bead: gt-gastown-polecat-toast\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T12:11:07.433978Z","created_by":"gastown/polecats/toast","updated_at":"2026-01-09T12:14:05.255264Z","closed_at":"2026-01-09T12:14:05.255264Z","close_reason":"Closed"}
{"id":"gt-ex5","title":"Digest: mol-refinery-patrol","description":"Patrol complete: merged polecat/furiosa-mk6lhyn3 (gt sling molecule integration, 1 file +92/-27), tests pass, witness notified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:19:15.991495Z","updated_at":"2026-01-09T08:19:15.991495Z","closed_at":"2026-01-09T08:19:15.991431Z","close_reason":"Squashed from 11 wisps"}
{"id":"gt-fhr","title":"Digest: mol-refinery-patrol","description":"Patrol complete: merged polecat/furiosa-mk6gelvz to main (4 files, 183 additions), tests pass, witness notified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:07:41.382389Z","updated_at":"2026-01-09T06:07:41.382389Z","closed_at":"2026-01-09T06:07:41.382328Z","close_reason":"Squashed from 7 wisps"}
{"id":"gt-fqb","title":"Implement post-merge binary rebuild in refinery","description":"dispatched_by: mayor\n\n## Problem\n\nWhen refinery merges Go changes to main, the gt binary needs to be rebuilt. Currently this is manual.\n\n## Solution\n\nAdd post-merge action support to refinery config, following the existing test_command pattern.\n\n### Step 1: Update config.json\n\nAdd post_merge section:\n```json\n\"refinery\": {\n  \"allow_direct_main_merge\": true,\n  \"local_only\": true,\n  \"post_merge\": {\n    \"rebuild_binary\": true,\n    \"rebuild_command\": \"go install ./cmd/gt\"\n  }\n}\n```\n\n### Step 2: Extend MergeQueueConfig struct\n\nIn `internal/refinery/engineer.go` (around lines 25-72):\n\n```go\ntype MergeQueueConfig struct {\n    // ... existing fields\n    PostMergeRebuild bool   `json:\"post_merge_rebuild\"`\n    RebuildCommand   string `json:\"rebuild_command\"`\n}\n```\n\n### Step 3: Add rebuild logic to handleSuccessFromQueue\n\nIn `internal/refinery/engineer.go` (after line 560, before cleanup):\n\n```go\n// 6.5. Rebuild binary if configured\nif e.config.PostMergeRebuild {\n    _, _ = fmt.Fprintf(e.output, \"[Engineer] üî® Rebuilding binary: %s\\n\", e.config.RebuildCommand)\n    \n    cmd := exec.Command(\"sh\", \"-c\", e.config.RebuildCommand)\n    cmd.Dir = e.workDir\n    output, err := cmd.CombinedOutput()\n    \n    if err != nil {\n        _, _ = fmt.Fprintf(e.output, \"[Engineer] ‚ö†Ô∏è  Rebuild failed: %v\\n%s\\n\", err, output)\n    } else {\n        _, _ = fmt.Fprintf(e.output, \"[Engineer] ‚úì Binary rebuilt successfully\\n\")\n    }\n}\n```\n\n### Step 4: Parse config in LoadConfig\n\nIn `internal/refinery/engineer.go` (around lines 118-198):\n\n```go\nif mqRaw.PostMergeRebuild != nil {\n    mqConfig.PostMergeRebuild = *mqRaw.PostMergeRebuild\n}\nif mqRaw.RebuildCommand != \"\" {\n    mqConfig.RebuildCommand = mqRaw.RebuildCommand\n}\n```\n\n### Testing\n\nAfter implementation, test by:\n1. Making a Go code change\n2. Merging via refinery\n3. Verifying binary rebuilt automatically\n4. Checking refinery output logs for rebuild messages\n\n## Related\n\nTown-level tracking: hq-fvwr\nPart of grease epic hq-h4yz","status":"closed","priority":2,"issue_type":"task","assignee":"gastown/polecats/furiosa","created_at":"2026-01-09T08:23:32.326921Z","created_by":"mayor","updated_at":"2026-01-09T08:29:42.91924Z","closed_at":"2026-01-09T08:29:42.91924Z","close_reason":"Closed"}
{"id":"gt-fsq","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T10:28:15.386806Z","created_by":"gastown/witness","updated_at":"2026-01-09T10:28:15.4967Z","closed_at":"2026-01-09T10:28:15.4967Z","close_reason":"auto-closed session event"}
{"id":"gt-gastown-polecat-capable","title":"gt-gastown-polecat-capable","description":"gt-gastown-polecat-capable\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-09T11:21:37.261224Z","created_by":"mayor","updated_at":"2026-01-09T11:21:56.65782Z"}
{"id":"gt-gastown-polecat-cheedo","title":"gt-gastown-polecat-cheedo","description":"gt-gastown-polecat-cheedo\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: clean\nactive_mr: gt-vc4\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-09T11:55:55.098108Z","created_by":"mayor","updated_at":"2026-01-09T12:11:29.990488Z"}
{"id":"gt-gastown-polecat-dag","title":"gt-gastown-polecat-dag","description":"gt-gastown-polecat-dag\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: clean\nactive_mr: gt-692\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T11:55:23.046849Z","created_by":"mayor","updated_at":"2026-01-09T12:11:56.793304Z","deleted_at":"2026-01-09T12:11:56.793304Z","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"gt-gastown-polecat-dementus","title":"gt-gastown-polecat-dementus","description":"gt-gastown-polecat-dementus\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-09T11:21:14.892708Z","created_by":"mayor","updated_at":"2026-01-09T11:21:33.813931Z"}
{"id":"gt-gastown-polecat-furiosa","title":"gt-gastown-polecat-furiosa","description":"gt-gastown-polecat-furiosa\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: hq-u50v\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T09:23:18.812056Z","created_by":"mayor","updated_at":"2026-01-09T11:19:58.765763Z","deleted_at":"2026-01-09T10:18:15.658894Z","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"gt-gastown-polecat-keeper","title":"gt-gastown-polecat-keeper","description":"gt-gastown-polecat-keeper\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-09T11:56:41.183866Z","created_by":"mayor","updated_at":"2026-01-09T11:57:03.889452Z"}
{"id":"gt-gastown-polecat-morsov","title":"gt-gastown-polecat-morsov","description":"gt-gastown-polecat-morsov\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-09T11:59:53.951056Z","created_by":"mayor","updated_at":"2026-01-09T12:00:14.119989Z"}
{"id":"gt-gastown-polecat-nux","title":"gt-gastown-polecat-nux","description":"gt-gastown-polecat-nux\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: gt-9h2\nrole_bead: hq-polecat-role\ncleanup_status: clean\nactive_mr: gt-288w\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T09:25:09.447601Z","created_by":"mayor","updated_at":"2026-01-09T12:08:47.78809Z","deleted_at":"2026-01-09T12:00:56.445104Z","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"gt-gastown-polecat-rictus","title":"gt-gastown-polecat-rictus","description":"gt-gastown-polecat-rictus\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: clean\nactive_mr: gt-9t2\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T11:20:52.940978Z","created_by":"mayor","updated_at":"2026-01-09T12:11:56.668612Z","deleted_at":"2026-01-09T11:33:44.225841Z","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"gt-gastown-polecat-slit","title":"gt-gastown-polecat-slit","description":"gt-gastown-polecat-slit\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: gt-9h2\nrole_bead: hq-polecat-role\ncleanup_status: clean\nactive_mr: gt-mz5\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T08:53:22.026492Z","created_by":"mayor","updated_at":"2026-01-09T11:20:41.638289Z","deleted_at":"2026-01-09T09:02:53.702098Z","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"gt-gastown-polecat-testbead","title":"Test agent bead","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-09T08:44:24.020746Z","created_by":"mayor","updated_at":"2026-01-09T08:44:26.993241Z","closed_at":"2026-01-09T08:44:26.993241Z","close_reason":"Test successful - agent type now works"}
{"id":"gt-gastown-polecat-toast","title":"gt-gastown-polecat-toast","description":"gt-gastown-polecat-toast\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: clean\nactive_mr: gt-dk7\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T11:54:58.46161Z","created_by":"mayor","updated_at":"2026-01-09T12:14:04.213175Z","deleted_at":"2026-01-09T12:14:04.213175Z","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"gt-gastown-polecat-valkyrie","title":"gt-gastown-polecat-valkyrie","description":"gt-gastown-polecat-valkyrie\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: clean\nactive_mr: gt-9jhh\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T11:56:17.733545Z","created_by":"mayor","updated_at":"2026-01-09T12:04:47.092784Z","deleted_at":"2026-01-09T12:04:47.092784Z","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"gt-gbt","title":"Digest: mol-refinery-patrol","description":"Patrol complete: merged polecat/furiosa-mk6m0b5f (post-merge binary rebuild, 1 file +35 lines), tests pass, witness notified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:32:33.035764Z","updated_at":"2026-01-09T08:32:33.035764Z","closed_at":"2026-01-09T08:32:33.035697Z","close_reason":"Squashed from 11 wisps"}
{"id":"gt-i8h","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T09:03:55.67775Z","created_by":"gastown/witness","updated_at":"2026-01-09T09:03:55.763507Z","closed_at":"2026-01-09T09:03:55.763507Z","close_reason":"auto-closed session event"}
{"id":"gt-ke1","title":"Digest: mol-refinery-patrol","description":"Patrol complete: merged polecat/furiosa-mk6kjd5d (local_only mode implementation, 2 files +17/-2), tests pass, witness notified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T07:57:20.770835Z","updated_at":"2026-01-09T07:57:20.770835Z","closed_at":"2026-01-09T07:57:20.770766Z","close_reason":"Squashed from 11 wisps"}
{"id":"gt-ko2","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T09:24:11.468658Z","created_by":"gastown/witness","updated_at":"2026-01-09T09:24:11.556634Z","closed_at":"2026-01-09T09:24:11.556634Z","close_reason":"auto-closed session event"}
{"id":"gt-lho","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:17:14.237945Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:17:14.327593Z","closed_at":"2026-01-09T08:17:14.327593Z","close_reason":"auto-closed session event"}
{"id":"gt-m67","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:10:09.821447Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:10:09.913696Z","closed_at":"2026-01-09T08:10:09.913696Z","close_reason":"auto-closed session event"}
{"id":"gt-mz5","title":"Merge: slit-mk6n2hxw","description":"branch: polecat/slit-mk6n2hxw\ntarget: main\nsource_issue: slit-mk6n2hxw\nrig: gastown\nagent_bead: gt-gastown-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T09:00:10.713794Z","created_by":"gastown/polecats/slit","updated_at":"2026-01-09T09:02:59.244478Z","closed_at":"2026-01-09T09:02:59.244478Z","close_reason":"Merged to main by refinery"}
{"id":"gt-o0t","title":"Merge: furiosa-mk6lhyn3","description":"branch: polecat/furiosa-mk6lhyn3\ntarget: main\nsource_issue: furiosa-mk6lhyn3\nrig: gastown\nagent_bead: gt-gastown-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T08:16:47.383685Z","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-09T08:19:18.554355Z","closed_at":"2026-01-09T08:19:18.554355Z","close_reason":"Merged to main by refinery"}
{"id":"gt-otk","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:01:45.266369Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:01:45.35416Z","closed_at":"2026-01-09T08:01:45.35416Z","close_reason":"auto-closed session event"}
{"id":"gt-p2x","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T06:08:29.942958Z","created_by":"gastown/witness","updated_at":"2026-01-09T06:08:30.037352Z","closed_at":"2026-01-09T06:08:30.037352Z","close_reason":"auto-closed session event"}
{"id":"gt-p6d","title":"Refinery needs local-only mode (no push to remote)","description":"dispatched_by: mayor\n\n## Problem\n\nRefinery is trying to push to origin when it SHOULDN'T. El Presidente wants local-only development.\n\nCurrently Refinery:\n1. ‚úÖ Merges to local main\n2. ‚ùå Tries to push to origin (WRONG - should skip this)\n\n## Solution\n\nConfig already has the flag in ~/gt/gastown/config.json:\n\n```json\n\"refinery\": {\n  \"allow_direct_main_merge\": true,\n  \"local_only\": true\n}\n```\n\nNeed to implement code to RESPECT this flag.\n\n## Implementation\n\nIn refinery patrol code (mol-refinery-patrol merge-push step):\n\n```bash\ngit checkout main\ngit merge --ff-only temp\n\n# Check config before pushing\nif \\! jq -r '.refinery.local_only // false' ~/gt/gastown/config.json | grep -q true; then\n  git push origin main\nelse\n  echo \"‚ÑπÔ∏è  Local-only mode: skipping push to origin\"\nfi\n```\n\nOR implement in Go code that handles merge-push step.\n\n## Files to Modify\n\nCheck where refinery does git push:\n- internal/refinery/engineer.go (likely location)\n- Or in the patrol execution itself\n\nAdd config check before push, skip if local_only=true.\n\n## Related\n\n- Part of grease epic hq-h4yz\n- Config already updated in ~/gt/gastown/config.json\n- Once implemented, refinery will stop trying to push","status":"closed","priority":1,"issue_type":"task","assignee":"gastown/polecats/furiosa","created_at":"2026-01-09T07:42:22.111439Z","created_by":"mayor","updated_at":"2026-01-09T07:45:32.831732Z","closed_at":"2026-01-09T07:45:32.831732Z","close_reason":"Implemented local_only config checks in refinery patrol - pushes to origin now skipped when flag enabled"}
{"id":"gt-q07","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T09:25:57.726522Z","created_by":"gastown/witness","updated_at":"2026-01-09T09:25:57.815538Z","closed_at":"2026-01-09T09:25:57.815538Z","close_reason":"auto-closed session event"}
{"id":"gt-r2f","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:24:28.863343Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:24:28.955173Z","closed_at":"2026-01-09T08:24:28.955173Z","close_reason":"auto-closed session event"}
{"id":"gt-rp1","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T07:43:17.61599Z","created_by":"gastown/witness","updated_at":"2026-01-09T07:43:17.713932Z","closed_at":"2026-01-09T07:43:17.713932Z","close_reason":"auto-closed session event"}
{"id":"gt-rt4","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T07:06:34.378809Z","created_by":"gastown/witness","updated_at":"2026-01-09T07:06:34.493338Z","closed_at":"2026-01-09T07:06:34.493338Z","close_reason":"auto-closed session event"}
{"id":"gt-sq4","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:33:16.614586Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:33:16.71646Z","closed_at":"2026-01-09T08:33:16.71646Z","close_reason":"auto-closed session event"}
{"id":"gt-swl","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T10:30:58.179092Z","created_by":"gastown/witness","updated_at":"2026-01-09T10:30:58.256648Z","closed_at":"2026-01-09T10:30:58.256648Z","close_reason":"auto-closed session event"}
{"id":"gt-t3z","title":"Digest: mol-refinery-patrol","description":"Patrol complete: checked inbox (clear), scanned merge queue (empty), no branches to process","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:39:43.903667Z","updated_at":"2026-01-09T05:39:43.903667Z","closed_at":"2026-01-09T05:39:43.903597Z","close_reason":"Squashed from 4 wisps"}
{"id":"gt-tdn","title":"Merge: nux-mk6q2gu7","description":"branch: polecat/nux-mk6q2gu7\ntarget: main\nsource_issue: nux-mk6q2gu7\nrig: gastown\nagent_bead: gt-gastown-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T10:27:41.505058Z","created_by":"gastown/polecats/nux","updated_at":"2026-01-09T10:49:44.435843Z","closed_at":"2026-01-09T10:49:44.435843Z","close_reason":"Merged to main by refinery (Mayor authorized)"}
{"id":"gt-tyo","title":"Merge: nux-mk6kue57","description":"branch: polecat/nux-mk6kue57\ntarget: main\nsource_issue: nux-mk6kue57\nrig: gastown\nagent_bead: gt-gastown-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T07:58:37.708706Z","created_by":"gastown/polecats/nux","updated_at":"2026-01-09T08:01:08.945736Z","closed_at":"2026-01-09T08:01:08.945736Z","close_reason":"Merged to main by refinery"}
{"id":"gt-u24","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T07:52:04.35092Z","created_by":"gastown/witness","updated_at":"2026-01-09T07:52:04.446407Z","closed_at":"2026-01-09T07:52:04.446407Z","close_reason":"auto-closed session event"}
{"id":"gt-u94","title":"Digest: mol-refinery-patrol","description":"Patrol complete: merged polecat/nux-mk6q2gu7 via Mayor-authorized merge (bypassed rebase, 54 files +3436/-296), tests pass, witness notified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T10:49:42.860083Z","updated_at":"2026-01-09T10:49:42.860083Z","closed_at":"2026-01-09T10:49:42.860005Z","close_reason":"Squashed from 11 wisps"}
{"id":"gt-ugk","title":"Digest: mol-refinery-patrol","description":"Patrol complete: merged polecat/furiosa-mk6j82m9 (mol-mayor-startup formula +219 lines), tests pass, witness notified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T07:23:08.633542Z","updated_at":"2026-01-09T07:23:08.633542Z","closed_at":"2026-01-09T07:23:08.633471Z","close_reason":"Squashed from 11 wisps"}
{"id":"gt-vc4","title":"Merge: cheedo-mk6tl9ch","description":"branch: polecat/cheedo-mk6tl9ch\ntarget: main\nsource_issue: cheedo-mk6tl9ch\nrig: gastown\nagent_bead: gt-gastown-polecat-cheedo\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"open","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T12:11:28.184225Z","created_by":"gastown/polecats/cheedo","updated_at":"2026-01-09T12:11:28.184225Z"}
{"id":"gt-wisp-00r","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T11:54:55.228269Z","updated_at":"2026-01-09T11:54:55.228269Z"}
{"id":"gt-wisp-1hn","title":"Run test suite","description":"Run the test suite.\n\n```bash\ngo test ./...\n```\n\nTrack results: pass count, fail count, specific failures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T16:44:56.543009-08:00","updated_at":"2026-01-04T16:44:56.543009-08:00"}
{"id":"gt-wisp-34l","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T11:21:56.329133Z","updated_at":"2026-01-09T11:21:56.329133Z"}
{"id":"gt-wisp-5l9","title":"Merge and push to main","description":"Merge to main and push. CRITICAL: Notifications come IMMEDIATELY after push.\n\n**Step 1: Merge and Push**\n```bash\ngit checkout main\ngit merge --ff-only temp\ngit push origin main\n```\n\n‚ö†Ô∏è **STOP HERE - DO NOT PROCEED UNTIL STEPS 2-3 COMPLETE**\n\n**Step 2: Send MERGED Notification (REQUIRED - DO THIS IMMEDIATELY)**\n\nRIGHT NOW, before any cleanup, send MERGED mail to Witness:\n\n```bash\ngt mail send \u003crig\u003e/witness -s \"MERGED \u003cpolecat-name\u003e\" -m \"Branch: \u003cbranch\u003e\nIssue: \u003cissue-id\u003e\nMerged-At: $(date -u +%Y-%m-%dT%H:%M:%SZ)\"\n```\n\nThis signals the Witness to nuke the polecat worktree. WITHOUT THIS NOTIFICATION,\nPOLECAT WORKTREES ACCUMULATE INDEFINITELY AND THE LIFECYCLE BREAKS.\n\n**Step 3: Close MR Bead (REQUIRED - DO THIS IMMEDIATELY)**\n\n‚ö†Ô∏è **VERIFICATION BEFORE CLOSING**: Confirm the work is actually on main:\n```bash\n# Get the commit message/issue from the branch\ngit log origin/main --oneline | grep \"\u003cissue-id\u003e\"\n# OR verify the commit SHA is on main:\ngit branch --contains \u003ccommit-sha\u003e | grep main\n```\n\nIf work is NOT on main, DO NOT close the MR bead. Investigate first.\n\n```bash\nbd close \u003cmr-bead-id\u003e --reason \"Merged to main at $(git rev-parse --short HEAD)\"\n```\n\nThe MR bead ID was in the MERGE_READY message or find via:\n```bash\nbd list --type=merge-request --status=open | grep \u003cpolecat-name\u003e\n```\n\n**VALIDATION**: The MR bead's source_issue should be a valid bead ID (gt-xxxxx),\nnot a branch name. If source_issue contains a branch name, flag for investigation.\n\n**Step 4: Archive the MERGE_READY mail (REQUIRED)**\n```bash\ngt mail archive \u003cmerge-ready-message-id\u003e\n```\nThe message ID was tracked when you processed inbox-check.\n\n**Step 5: Cleanup (only after Steps 2-4 confirmed)**\n```bash\ngit branch -d temp\ngit push origin --delete \u003cpolecat-branch\u003e\n```\n\n**VERIFICATION GATE**: You CANNOT proceed to loop-check without:\n- [x] MERGED mail sent to witness\n- [x] MR bead closed\n- [x] MERGE_READY mail archived\n\nIf you skipped notifications or archiving, GO BACK AND DO THEM NOW.\n\nMain has moved. Any remaining branches need rebasing on new baseline.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T16:53:49.943911-08:00","updated_at":"2026-01-04T16:53:49.943911-08:00"}
{"id":"gt-wisp-5p8","title":"Check own context limit","description":"Check own context usage.\n\nIf context is HIGH (\u003e80%):\n- Write handoff summary\n- Prepare for burn/respawn\n\nIf context is LOW:\n- Can continue processing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.903921-08:00","updated_at":"2026-01-07T00:04:19.903921-08:00"}
{"id":"gt-wisp-atx","title":"Check refinery mail","description":"Check mail for MERGE_READY submissions, escalations, and messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**MERGE_READY**:\nA polecat's work is ready for merge. Extract details and track for processing.\n\n```bash\n# Parse MERGE_READY message body:\n# Branch: \u003cbranch\u003e\n# Issue: \u003cissue-id\u003e\n# Polecat: \u003cpolecat-name\u003e\n# MR: \u003cmr-bead-id\u003e\n# Verified: clean git state, issue closed\n\n# Track in your merge queue for this patrol cycle:\n# - Branch name\n# - Issue ID\n# - Polecat name (REQUIRED for MERGED notification)\n# - MR bead ID (REQUIRED for closing after merge)\n```\n\n**IMPORTANT**: You MUST track the polecat name, MR bead ID, AND message ID - you will need them\nin merge-push step to send MERGED notification, close the MR bead, and archive the mail.\n\nMark as read. The work will be processed in queue-scan/process-branch.\n**Do NOT archive yet** - archive after merge/reject decision in merge-push step.\n\n**PATROL: Wake up**:\nWitness detected MRs waiting but refinery idle. Acknowledge and archive:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HELP / Blocked**:\nAssess and respond. If you can't help, escalate to Mayor.\nArchive after handling:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Check for in-flight merges.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: pending MRs in queue. Inbox should be near-empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.899681-08:00","updated_at":"2026-01-07T00:04:19.899681-08:00"}
{"id":"gt-wisp-bfq","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nInbox should contain ONLY:\n- Unprocessed MERGE_READY messages (will process next cycle)\n- Active work items\n\n**Step 2: Archive any stale messages**\n\nLook for messages that were processed but not archived:\n- PATROL: Wake up that was acknowledged ‚Üí archive\n- HELP/Blocked that was handled ‚Üí archive\n- MERGE_READY where merge completed but archive was missed ‚Üí archive\n\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Step 3: Check for orphaned MR beads**\n\nLook for open MR beads with no corresponding branch:\n```bash\nbd list --type=merge-request --status=open\n```\n\nFor each open MR bead:\n1. Check if branch exists: `git ls-remote origin refs/heads/\u003cbranch\u003e`\n2. If branch gone, verify work is on main: `git log origin/main --oneline | grep \"\u003csource_issue\u003e\"`\n3. If work on main ‚Üí close MR with reason \"Merged (verified on main)\"\n4. If work NOT on main ‚Üí investigate before closing:\n   - Check source_issue validity (should be gt-xxxxx, not branch name)\n   - Search reflog/dangling commits if possible\n   - If unverifiable, close with reason \"Unverifiable - no audit trail\"\n   - File bead if this indicates lost work\n\n**NEVER close an MR bead without verifying the work landed or is unrecoverable.**\n\n**Goal**: Inbox should have ‚â§3 active messages at end of cycle.\nKeep only: pending MRs in queue.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T17:28:50.512454-08:00","updated_at":"2026-01-04T17:28:50.512454-08:00"}
{"id":"gt-wisp-bls","title":"Handle test failures","description":"**VERIFICATION GATE**: This step enforces the Beads Promise.\n\nIf tests PASSED: This step auto-completes. Proceed to merge.\n\nIf tests FAILED:\n1. Diagnose: Is this a branch regression or pre-existing on main?\n2. If branch caused it:\n   - Abort merge\n   - Notify polecat: \"Tests failing. Please fix and resubmit.\"\n   - Skip to loop-check\n3. If pre-existing on main:\n   - Option A: Fix it yourself (you're the Engineer!)\n   - Option B: File a bead: bd create --type=bug --priority=1 --title=\"...\"\n\n**GATE REQUIREMENT**: You CANNOT proceed to merge-push without:\n- Tests passing, OR\n- Fix committed, OR\n- Bead filed for the failure\n\nThis is non-negotiable. Never disavow. Never \"note and proceed.\" ","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.901847-08:00","updated_at":"2026-01-07T00:04:19.901847-08:00"}
{"id":"gt-wisp-f5f","title":"Generate handoff summary","description":"Summarize this patrol cycle.\n\n**VERIFICATION**: Before generating summary, confirm for each merged branch:\n- [ ] MERGED mail was sent to witness\n- [ ] MR bead was closed\n- [ ] MERGE_READY mail archived\n\nIf any notifications or archiving were missed, do them now!\n\nInclude in summary:\n- Branches merged (count, names)\n- MERGED mails sent (count - should match branches merged)\n- MR beads closed (count - should match branches merged)\n- MERGE_READY mails archived (count - should match branches merged)\n- Test results (pass/fail)\n- Branches with conflicts (count, names)\n- Conflict-resolution tasks created (IDs)\n- Issues filed (if any)\n- Any escalations sent\n\n**Conflict tracking is important** for monitoring MQ health. If many branches\nconflict, it may indicate main is moving too fast or branches are too stale.\n\nThis becomes the digest when the patrol is squashed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.903406-08:00","updated_at":"2026-01-07T00:04:19.903406-08:00"}
{"id":"gt-wisp-k2v","title":"Check for more work","description":"More branches to process?\n\n**Entry paths:**\n- Normal: After successful merge-push\n- Conflict-skip: After process-branch created conflict-resolution task\n\nIf yes: Return to process-branch with next branch.\nIf no: Continue to generate-summary.\n\n**Track for this cycle:**\n- branches_merged: count and names of successfully merged branches\n- branches_conflict: count and names of branches skipped due to conflicts\n- conflict_tasks: IDs of conflict-resolution tasks created\n\nThis tracking feeds into generate-summary for the patrol digest.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.902887-08:00","updated_at":"2026-01-07T00:04:19.902887-08:00"}
{"id":"gt-wisp-py3","title":"Mechanical rebase","description":"Pick next branch from queue. Attempt mechanical rebase on current main.\n\n**Step 1: Checkout and attempt rebase**\n```bash\ngit checkout -b temp origin/\u003cpolecat-branch\u003e\ngit rebase origin/main\n```\n\n**Step 2: Check rebase result**\n\nThe rebase exits with:\n- Exit code 0: Success - proceed to run-tests\n- Exit code 1 (conflicts): Conflict detected - proceed to Step 3\n\nTo detect conflict state after rebase fails:\n```bash\n# Check if we're in a conflicted rebase state\nls .git/rebase-merge 2\u003e/dev/null \u0026\u0026 echo \"CONFLICT_STATE\"\n```\n\n**Step 3: Handle conflicts (if any)**\n\nIf rebase SUCCEEDED (exit code 0):\n- Skip to run-tests step (continue normal merge flow)\n\nIf rebase FAILED with conflicts:\n\n1. **Abort the rebase** (DO NOT leave repo in conflicted state):\n```bash\ngit rebase --abort\n```\n\n2. **Record conflict metadata**:\n```bash\n# Capture main SHA for reference\nMAIN_SHA=$(git rev-parse origin/main)\nBRANCH_SHA=$(git rev-parse origin/\u003cpolecat-branch\u003e)\n```\n\n3. **Create conflict-resolution task**:\n```bash\nbd create --type=task --priority=1 --title=\"Resolve merge conflicts: \u003coriginal-issue-title\u003e\" --description=\"## Conflict Resolution Required\n\nOriginal MR: \u003cmr-bead-id\u003e\nBranch: \u003cpolecat-branch\u003e\nOriginal Issue: \u003cissue-id\u003e\nConflict with main at: ${MAIN_SHA}\nBranch SHA: ${BRANCH_SHA}\n\n## Instructions\n1. Clone/checkout the branch\n2. Rebase on current main: git rebase origin/main\n3. Resolve conflicts\n4. Force push: git push -f origin \u003cbranch\u003e\n5. Close this task when done\n\nThe MR will be re-queued for processing after conflicts are resolved.\"\n```\n\n4. **Skip this MR** (do NOT delete branch or close MR bead):\n- Leave branch intact for conflict resolution\n- Leave MR bead open (will be re-processed after resolution)\n- Continue to loop-check for next branch\n\n**CRITICAL**: Never delete a branch that has conflicts. The branch contains\nthe original work and must be preserved for conflict resolution.\n\nTrack: rebase result (success/conflict), conflict task ID if created.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T17:28:50.509025-08:00","updated_at":"2026-01-04T17:28:50.509025-08:00"}
{"id":"gt-wisp-wf6","title":"Scan merge queue","description":"Check the beads merge queue - this is the SOURCE OF TRUTH for pending merges.\n\n```bash\ngit fetch --prune origin\ngt mq list \u003crig\u003e\n```\n\nThe beads MQ tracks all pending merge requests. Do NOT rely on `git branch -r | grep polecat`\nas branches may exist without MR beads, or MR beads may exist for already-merged work.\n\nIf queue empty, skip to context-check step.\n\nFor each MR in the queue, verify the branch still exists:\n```bash\ngit branch -r | grep \u003cbranch\u003e\n```\n\nIf branch doesn't exist for a queued MR:\n- Close the MR bead: `bd close \u003cmr-id\u003e --reason \"Branch no longer exists\"`\n- Remove from processing queue\n\nTrack verified MR list for this cycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T16:44:56.542002-08:00","updated_at":"2026-01-04T16:44:56.542003-08:00"}
{"id":"gt-wisp-zuq","title":"Burn and respawn or loop","description":"End of patrol cycle decision.\n\n**Step 1: Estimate remaining context**\n\nAsk yourself:\n- Have I processed many branches this cycle?\n- Is the conversation getting long?\n- Am I starting to lose track of earlier context?\n\nRule of thumb: If you've done 3+ merges or processed significant cleanup work,\nit's time for a fresh session.\n\n**Step 2: Decision tree**\n\nIf queue non-empty AND context LOW:\n- Squash this wisp to digest\n- Spawn fresh patrol wisp\n- Return to inbox-check\n\nIf queue empty OR context HIGH OR good stopping point:\n- Squash wisp with summary digest\n- Use `gt handoff` for clean session transition:\n\n```bash\ngt handoff -s \"Patrol complete\" -m \"Merged X branches, Y tests passed.\nQueue: empty/N remaining\nNext: [any notes for successor]\"\n```\n\n**Why gt handoff?**\n- Sends handoff mail to yourself with context\n- Respawns with fresh Claude instance\n- SessionStart hook runs gt prime\n- Successor picks up from your hook\n\n**DO NOT just exit.** Always use `gt handoff` for proper lifecycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.904942-08:00","updated_at":"2026-01-07T00:04:19.904942-08:00"}
{"id":"gt-x4f","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T07:20:56.86289Z","created_by":"gastown/witness","updated_at":"2026-01-09T07:20:56.946599Z","closed_at":"2026-01-09T07:20:56.946599Z","close_reason":"auto-closed session event"}
{"id":"gt-xa5","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T05:37:37.540931Z","created_by":"gastown/witness","updated_at":"2026-01-09T05:37:37.650756Z","closed_at":"2026-01-09T05:37:37.650756Z","close_reason":"auto-closed session event"}
{"id":"gt-xf9","title":"Merge: nux-mk6mekrz","description":"branch: polecat/nux-mk6mekrz\ntarget: main\nsource_issue: nux-mk6mekrz\nrig: gastown\nagent_bead: gt-gastown-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T08:54:41.030001Z","created_by":"gastown/polecats/nux","updated_at":"2026-01-09T08:57:39.823551Z","closed_at":"2026-01-09T08:57:39.823551Z","close_reason":"Merged to main by refinery"}
{"id":"gt-xiy","title":"Session ended: gt-gastown-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T08:54:23.620055Z","created_by":"gastown/witness","updated_at":"2026-01-09T08:54:23.700061Z","closed_at":"2026-01-09T08:54:23.700061Z","close_reason":"auto-closed session event"}
{"id":"gt-y4t","title":"Implement policy validation in gt sling","description":"dispatched_by: mayor\n\nImplementation for town bead hq-eo4n: Add warnIfPolicyViolation function to internal/cmd/sling.go and update Mayor CLAUDE.md with policy awareness section.\n\n**Solution from hq-eo4n:**\n- Add warnIfPolicyViolation() that checks rig config + bead epic status\n- Warn when orphan work dispatched to strict rig\n- Update Mayor CLAUDE.md with policy awareness section\n\n**Files to modify:**\n1. internal/cmd/sling.go\n2. internal/templates/roles/mayor.md.tmpl\n\nTown bead: hq-eo4n (see for full details)","status":"closed","priority":2,"issue_type":"task","assignee":"gastown/polecats/nux","created_at":"2026-01-09T08:34:38.92698Z","created_by":"mayor","updated_at":"2026-01-09T08:40:41.059794Z","closed_at":"2026-01-09T08:40:41.059797Z"}
{"id":"gt-yf2","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-09T05:35:12.334717Z","created_by":"mayor","updated_at":"2026-01-09T05:35:12.334717Z"}
{"id":"gt-yof","title":"Fix gt sling failing on new rigs (formula + hook issues)","description":"## Problem\n\nTown beads hq-omlh and hq-8sef track grease found during SQS cleanup workflow.\n\nWhen slinging work to newly created rigs:\n1. Error: `mol-polecat-work` formula file not found\n2. Work doesn't get hooked to polecat\n3. Manual `bd slot set` attempts fail\n\n## Root Causes\n\n### Issue 1: Missing Formula Files\n`gt rig add` doesn't install formula files to new rigs.\nLocation: should be in `\u003crig\u003e/` or embedded in binary\n\n### Issue 2: Hook Assignment Failure\nEven when convoy/polecat created, hook slot remains empty.\nPossibly related to formula error causing early exit?\n\n## Fix Required\n\nInvestigate and fix both issues:\n1. Either embed formulas or copy during `gt rig add`\n2. Ensure hook gets set even if formula parsing fails\n3. Add tests for new rig workflow\n\n## Verification\n\nAfter fix:\n```bash\n# Clean test\ngt rig add testrig git@github.com:test/test.git\ngt sling \u003cbead\u003e testrig\n# Should succeed without formula errors\n# Hook should be set properly\n```\n\n## Related\n- Town grease: hq-omlh, hq-8sef\n- Blocked SQS workflow (worked around with direct claude commands)","notes":"Fixed both root causes:\n\n1. Formula provisioning: Added formula.ProvisionFormulas() call to rig.initBeads() in internal/rig/manager.go. Formulas are now provisioned when creating new rigs, matching gt install behavior.\n\n2. Hook assignment: Automatically resolved as a side effect of #1. The hook failure was caused by pourPolecatWorkMolecule() returning early when formulas were missing. With formulas now present, molecule pouring succeeds and execution reaches the hook setting code.\n\nAlso fixed pre-existing compilation error (undefined polecatPath in internal/polecat/manager.go) that was preventing tests from running.\n\nCommits:\n- fdb3c200: fix(rig): provision formulas during rig add (gt-yof)\n- 274eb4c6: fix: undefined polecatPath variables in manager.go\n\nAll tests pass.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-09T10:17:09.30302Z","created_by":"mayor","updated_at":"2026-01-09T10:53:29.759446Z","closed_at":"2026-01-09T10:53:29.759446Z","close_reason":"Formula provisioning implemented in fdb3c200"}
{"id":"gt-yt6","title":"Digest: mol-refinery-patrol","description":"Patrol complete: merged polecat/nux-mk6mekrz (policy validation in gt sling, 2 files +112 lines), tests pass, witness notified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:57:33.837237Z","updated_at":"2026-01-09T08:57:33.837237Z","closed_at":"2026-01-09T08:57:33.837153Z","close_reason":"Squashed from 11 wisps"}
{"id":"gt-z4y","title":"Implement integration branch support + main/master blacklist for Refinery","description":"dispatched_by: mayor\n\nImplementation of integration branch targeting with main/master blacklist. See town bead hq-hrlr for detailed plan.\n\nPHASES:\n1. Add RigConfig with RefineryConfig struct (config.go)\n2. Update MR target logic with epic awareness (refinery_handlers.go)  \n3. Add pre-merge validation in Refinery (engineer.go)\n4. Add 'gt integration create' command (integration.go - new file)\n5. Update Refinery template docs (refinery.md.tmpl)\n6. Update Polecat template docs (polecat.md.tmpl)\n\nSUCCESS CRITERIA:\n- Blacklist main/master by default (allow_direct_main_merge: false)\n- Epic-based MRs target integration/\u003cepic-id\u003e\n- Non-epic MRs blocked with clear error message\n- gt integration create command works\n- Tests pass for all scenarios","status":"closed","priority":1,"issue_type":"task","assignee":"gastown/polecats/furiosa","created_at":"2026-01-09T05:36:44.801579Z","created_by":"mayor","updated_at":"2026-01-09T06:08:54.114035Z","closed_at":"2026-01-09T06:08:54.114035Z","close_reason":"Merged to main in commit 815ce37. Integration branch support implemented with main/master blacklist. All tests passing. 4 files changed: engineer.go, refinery_handlers.go, refinery.md.tmpl, polecat.md.tmpl. Epic-based MRs now auto-target integration/\u003cepic-id\u003e."}
{"id":"gt-z568","title":"Merge: rictus-mk6sc7e7","description":"branch: polecat/rictus-mk6sc7e7\ntarget: main\nsource_issue: rictus-mk6sc7e7\nrig: gastown\nagent_bead: gt-gastown-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-09T11:31:44.578386Z","created_by":"gastown/polecats/rictus","updated_at":"2026-01-09T11:33:36.418712Z","closed_at":"2026-01-09T11:33:36.418712Z","close_reason":"Closed"}
